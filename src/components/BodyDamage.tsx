import * as RemoteData from "@devexperts/remote-data-ts";
import styles from "./BodyDamage.module.css";
import { DamageLocation } from "../store/State";
import { useDamages } from "../pages/home/useDamages";
import { pipe } from "fp-ts/lib/function";
import { RemoteDataFold } from "./RemoteDataFold";
import { Card } from "./Card";

export function BodyDamage() {
  const { damages, toggleDamage } = useDamages();

  return pipe(
    damages,
    RemoteData.map((dd) =>
      dd.reduce(
        (acc, cur) => ({ ...acc, [cur]: true }),
        {} as { [key in DamageLocation]: boolean }
      )
    ),
    (damagesObj) => (
      <RemoteDataFold
        data={damagesObj}
        onSuccess={(damagesObj) => (
          <div className="flex">
            <Card title="DÃ©gats permanents">
              <svg
                className={styles.bodyDamage}
                width="10em"
                viewBox="0 0 169 533"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M66.576 39c0-15.5 5-26 18-26s18 10.5 18 26c0 16.5-6 30.5-18 31-12-.5-18-14.5-18-31z"
                  fill={damagesObj["head"] ? "#AD3920" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("head")}
                />
                <path
                  d="M72.5 65.5c0 7.6-5 14.833-7.5 17.5.667.833 1.3 3.9.5 5.5C69 86 78.236 83 84.576 83s15.575 3 19.075 5.5c-.8-1.6-.167-4.667.5-5.5-2.5-2.667-7.5-9.9-7.5-17.5-3 5.5-8 6.5-12.075 6.5C80.5 72 75.5 71 72.5 65.5z"
                  fill={damagesObj["neck"] ? "#D57115" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("neck")}
                />
                <path
                  d="M63.076 84.719c-11.5 5.5-29.5 10-32.5 12.5s-9 17.5-4.5 42.5c8 2.4 13 2.333 14.5 2 .333-5.667 5.124-16.019 5.924-19.219 1-4 .758-15.5 5.576-21.281 7.5-9 11-11.5 11-16.5z"
                  fill={damagesObj["shoulder right"] ? "#D57115" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("shoulder right")}
                />
                <path
                  d="M84.576 149.219c-9 0-11.5 13.5-14.5 17s-10 16-18-20 8.5-60.5 32.5-60.5 41 24.5 33 60.5-15.5 23.5-18.5 20-5.5-17-14.5-17z"
                  fill={damagesObj["torax"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("torax")}
                />
                <path
                  d="M54.575 163.219v23.5c4.834 5.333 17.6 19.5 30 19.5 12.4 0 25.167-14.167 30.001-19.5v-23.5c-1.667 3.333-3.001 10-9.001 10-11.5 0-14.5-22-21-22s-9.5 22-21 22c-6 0-7.333-6.667-9-10z"
                  fill={damagesObj["belly"] ? "#89BC1D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("belly")}
                />
                <path
                  d="M25.576 142.719c4.4 3.2 11.833 3 15 2.5-1 9-3.2 27.5-4 29.5 1.5 7.5-4.5 53-5.5 60.5-1.167 1.333-4.8 3.6-10 2-1-17.5-2.2-55.3 1-66.5.5-7.5 1.9-23.6 3.5-28z"
                  fill={damagesObj["arm right"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("arm right")}
                />
                <path
                  d="M54.575 191.219c-3.666 6.667-11.2 21.127-12 31.527-1 13 37.5 33.5 42 33.5s43.001-20.5 42.001-33.5c-.8-10.4-8.334-24.86-12-31.527 0 0-14 17.5-30 17.5s-30-17.5-30-17.5z"
                  fill={damagesObj["pelvis"] ? "#89BC1D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("pelvis")}
                />
                <path
                  d="M143.5 142.719c-4.4 3.2-11.834 3-15 2.5 1 9 3.2 27.5 4 29.5-1.5 7.5 4.5 53 5.5 60.5 1.166 1.333 4.8 3.6 10 2 1-17.5 2.2-55.3-1-66.5-.5-7.5-1.9-23.6-3.5-28z"
                  fill={damagesObj["arm left"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("arm left")}
                />
                <path
                  d="M106 84.719c11.5 5.5 29.5 10 32.5 12.5s9 17.5 4.5 42.5c-8 2.4-13 2.333-14.5 2-.334-5.667-5.124-16.019-5.924-19.219-1-4-.758-15.5-5.576-21.281-7.5-9-11-11.5-11-16.5z"
                  fill={damagesObj["shoulder left"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("shoulder left")}
                />
                <path
                  d="M21.076 240.719c2.4 2.4 7.666 1 10 0 .666 3.667 2 12.2 2 17 0 6 2.5 15 2 16.5-.4 1.2-2.834.5-4 0 2 4.167 5.6 12.9 4 14.5-1.6 1.6-9-7-12.5-11.5-.834-5.667-2.5-17.4-2.5-19 0-1.6.666-12.333 1-17.5z"
                  fill={damagesObj["hand right"] ? "#D57115" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("hand right")}
                />
                <path
                  d="M148 240.719c-2.4 2.4-7.667 1-10 0-.667 3.667-2 12.2-2 17 0 6-2.5 15-2 16.5.4 1.2 2.833.5 4 0-2 4.167-5.6 12.9-4 14.5 1.6 1.6 9-7 12.5-11.5.833-5.667 2.5-17.4 2.5-19 0-1.6-.667-12.333-1-17.5z"
                  fill={damagesObj["hand left"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("hand left")}
                />
                <path
                  d="M42.576 235.219c5.2 13.6 26.833 23.667 37 27-2.081 23.186-6.335 69.035-8.367 85.781.744-6.5-23.274-14-24.377-2 .402-5.886.487-12.031-.256-19.281-2-19.5-5.959-71-4-91.5z"
                  fill={damagesObj["thigh right"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("thigh right")}
                />
                <path
                  d="M126.576 235.219c-5.2 13.6-26.834 23.667-37 27 2.08 23.186 6.335 69.035 8.366 85.781-.744-6.5 23.274-14 24.377-2-.401-5.886-.487-12.031.257-19.281 2-19.5 5.958-71 4-91.5z"
                  fill={damagesObj["thigh left"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("thigh left")}
                />
                <path
                  d="M46.576 349.3C49.5 346 48.5 342 58.5 344s12.536 5.438 12.076 8.719c-.412 2.575-.994 7.505-1.658 13.781-3.082 15.5-25.418 7.5-23.785-2 .428-5.346 1.015-10.237 1.443-15.2z"
                  fill={damagesObj["knee right"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("knee right")}
                />
                <path
                  d="M122.576 349.3c-2.925-3.3-1.925-7.3-11.925-5.3s-12.535 5.438-12.075 8.719c.412 2.575.993 7.505 1.657 13.781 3.082 15.5 25.418 7.5 23.785-2-.427-5.346-1.014-10.237-1.442-15.2z"
                  fill={damagesObj["knee left"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("knee left")}
                />
                <path
                  d="M44.576 377.719c0 20 2.5 54 4 68 .35 3.263.319 7.939.066 13.281 1.858 4 14.055 5 14.042 1-.016-9.03-.108-16.351-.108-18.781 0-5.817 3.172-43.359 5.673-68.219-2.839 11.024-22.978 5.249-23.54-1.607-.085 2.02-.133 4.121-.133 6.326z"
                  fill={damagesObj["calf right"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("calf right")}
                />
                <path
                  d="M124.576 377.719c0 20-2.5 54-4 68-.35 3.263-.319 7.939-.067 13.281-1.858 4-14.054 5-14.042 1 .016-9.03.109-16.351.109-18.781 0-5.817-3.173-43.359-5.673-68.219 2.838 11.024 22.978 5.249 23.54-1.607.084 2.02.133 4.121.133 6.326z"
                  fill={damagesObj["calf left"] ? "#D4D821" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("calf left")}
                />
                <path
                  d="M59.576 510.719c-4 .5-15 3-15-4 0-5.112 2.932-27.82 3.93-45.151-.285 5.945 14.188 7.654 14.18 1.932-.011 20.38-.479 46.89-3.11 47.219z"
                  fill={damagesObj["foot right"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("foot right")}
                />
                <path
                  d="M109.576 510.719c4 .5 15 3 15-4 0-5.112-2.933-27.82-3.931-45.151.286 5.945-14.188 7.654-14.18 1.932.012 20.38.479 46.89 3.111 47.219z"
                  fill={damagesObj["foot left"] ? "#BC901D" : "#666"}
                  stroke="#000"
                  onClick={toggleDamage("foot left")}
                />
                <path
                  d="M23.125 65h-2.244v-7.273h2.343c.706 0 1.31.146 1.811.437a2.86 2.86 0 011.155 1.246c.267.54.4 1.187.4 1.94 0 .757-.134 1.41-.404 1.956-.27.545-.663.964-1.179 1.257-.516.291-1.143.437-1.882.437zm-1.364-.781h1.307c.601 0 1.1-.116 1.495-.348.396-.232.69-.563.884-.991.195-.428.292-.939.292-1.53 0-.588-.096-1.093-.288-1.517a2.122 2.122 0 00-.86-.98c-.38-.23-.855-.345-1.423-.345H21.76v5.71zm6.194.781v-5.455h.81v.824h.056c.1-.27.28-.489.54-.657.26-.168.554-.252.88-.252a9.16 9.16 0 01.44.014v.853a2.478 2.478 0 00-.195-.032 1.93 1.93 0 00-.316-.025c-.265 0-.501.055-.71.167a1.225 1.225 0 00-.668 1.111V65h-.838zm5.77.114c-.492 0-.924-.118-1.296-.352a2.389 2.389 0 01-.867-.984c-.206-.421-.308-.913-.308-1.477 0-.568.102-1.064.308-1.488.209-.424.498-.753.867-.987.372-.234.804-.352 1.296-.352.493 0 .923.118 1.293.352.371.234.66.563.866.987.209.424.313.92.313 1.488 0 .564-.104 1.056-.313 1.477-.206.422-.495.75-.866.984-.37.234-.8.352-1.293.352zm0-.753c.374 0 .682-.096.923-.288.242-.192.42-.444.537-.756.116-.313.174-.651.174-1.016 0-.364-.058-.704-.174-1.019a1.717 1.717 0 00-.537-.763c-.241-.195-.549-.292-.923-.292s-.682.097-.923.292c-.242.194-.42.448-.536.763a2.925 2.925 0 00-.174 1.02c0 .364.058.702.174 1.015.116.312.294.564.536.756.241.192.55.288.923.288zm3.751.639v-5.455h.838V65h-.838zm.426-6.364a.596.596 0 01-.422-.167.536.536 0 01-.174-.4c0-.157.058-.29.174-.402a.596.596 0 01.422-.167c.163 0 .303.056.42.167a.531.531 0 01.177.401c0 .156-.06.29-.178.401a.584.584 0 01-.419.167zm4.32.91v.71h-2.828v-.71h2.827zm-2.004-1.307h.838v5.199c0 .236.035.414.103.532a.534.534 0 00.27.234c.112.038.229.057.352.057.092 0 .168-.004.227-.014l.142-.028.17.753a1.71 1.71 0 01-.237.064 1.75 1.75 0 01-.387.035c-.237 0-.47-.05-.696-.153a1.382 1.382 0 01-.561-.465c-.147-.208-.22-.471-.22-.788v-5.426zm5.492 6.875c-.525 0-.979-.116-1.36-.348a2.337 2.337 0 01-.877-.98c-.204-.422-.305-.912-.305-1.47 0-.56.101-1.052.305-1.478a2.41 2.41 0 01.86-1.001c.369-.242.8-.363 1.292-.363.284 0 .565.048.842.143.277.094.529.248.756.461.227.21.408.49.543.838.135.348.203.777.203 1.286v.355h-4.205v-.725h3.352c0-.307-.061-.582-.184-.824a1.391 1.391 0 00-.519-.571 1.452 1.452 0 00-.788-.21c-.334 0-.623.083-.867.249a1.634 1.634 0 00-.557.64c-.13.262-.195.544-.195.844v.483c0 .412.07.761.213 1.048.144.284.344.5.6.65.256.146.553.22.891.22.22 0 .42-.031.597-.093a1.28 1.28 0 00.465-.284c.13-.128.23-.286.302-.476l.81.228a1.794 1.794 0 01-.43.724c-.201.206-.45.367-.746.483-.296.114-.628.17-.998.17zM117.852 61a2.557 2.557 0 00-.309-.643 1.96 1.96 0 00-1.04-.799 2.352 2.352 0 00-.725-.106c-.43 0-.822.111-1.175.334-.353.222-.633.55-.842.983-.208.433-.312.965-.312 1.595s.105 1.16.316 1.594c.211.433.496.761.856.984.36.222.764.334 1.214.334.417 0 .784-.09 1.101-.267.32-.18.568-.433.746-.76.18-.329.27-.716.27-1.16l.27.056h-2.188v-.781h2.77v.78c0 .6-.128 1.12-.384 1.563a2.643 2.643 0 01-1.051 1.03c-.445.242-.956.362-1.534.362-.644 0-1.21-.151-1.697-.454-.486-.303-.864-.734-1.137-1.293-.269-.558-.404-1.221-.404-1.988 0-.576.077-1.093.23-1.552.157-.462.377-.855.661-1.18.284-.323.62-.572 1.008-.745.389-.173.816-.26 1.282-.26.384 0 .741.059 1.073.175a2.87 2.87 0 011.548 1.236c.175.289.296.61.362.962h-.909zm3.952 5.128c-.346 0-.66-.065-.941-.195a1.608 1.608 0 01-.671-.572c-.166-.251-.249-.554-.249-.91 0-.312.062-.565.185-.76.123-.196.287-.35.493-.46.206-.112.434-.195.682-.25.251-.056.503-.101.756-.134.332-.043.601-.075.807-.096.208-.024.359-.063.454-.117.097-.055.146-.15.146-.285v-.028c0-.35-.096-.623-.288-.817-.189-.194-.477-.29-.863-.29-.4 0-.714.087-.941.262-.227.175-.387.362-.479.56l-.796-.283c.142-.332.332-.59.568-.774.24-.187.5-.318.782-.39.284-.077.563-.115.838-.115.175 0 .376.022.603.064.23.04.451.125.665.253.215.127.394.32.536.578.142.258.213.604.213 1.037V66h-.838v-.739h-.043a1.47 1.47 0 01-.284.38c-.133.135-.309.25-.529.345-.22.094-.489.142-.806.142zm.128-.753c.331 0 .61-.065.838-.195a1.332 1.332 0 00.696-1.154v-.767c-.036.042-.114.081-.235.117a3.893 3.893 0 01-.412.089 17.683 17.683 0 01-.802.106 3.194 3.194 0 00-.611.139 1.051 1.051 0 00-.454.28c-.114.123-.171.291-.171.504 0 .291.108.512.323.66.218.148.494.221.828.221zm7.339-1.605v-3.225h.838V66h-.838v-.923h-.057a1.796 1.796 0 01-.596.706c-.27.192-.611.288-1.023.288-.341 0-.644-.075-.909-.224a1.564 1.564 0 01-.625-.681c-.152-.306-.228-.69-.228-1.155v-3.465h.839v3.409c0 .397.111.715.333.951.225.237.512.355.86.355.208 0 .42-.053.635-.16.218-.106.4-.27.547-.49.149-.22.224-.5.224-.841zm4.589 2.344c-.511 0-.952-.121-1.321-.363a2.357 2.357 0 01-.852-.997c-.199-.424-.299-.908-.299-1.453 0-.554.102-1.043.306-1.467.206-.426.492-.758.859-.997.369-.242.8-.363 1.293-.363.383 0 .729.072 1.037.214.307.142.56.34.756.596.197.256.318.554.366.895h-.838a1.3 1.3 0 00-.426-.66c-.218-.195-.512-.292-.881-.292a1.47 1.47 0 00-.859.256 1.662 1.662 0 00-.572.714 2.643 2.643 0 00-.203 1.076c0 .421.067.788.199 1.1.135.313.325.556.568.729.247.172.535.259.867.259.218 0 .415-.038.593-.114a1.22 1.22 0 00.714-.838h.838a1.95 1.95 0 01-.352.87c-.184.256-.429.46-.735.61-.303.15-.656.225-1.058.225zm4.208-3.395V66h-.838v-7.273h.838v2.67h.071c.128-.281.32-.505.575-.67.258-.168.602-.253 1.03-.253.372 0 .697.075.977.224.279.147.496.373.65.678.156.303.234.69.234 1.158V66h-.838v-3.41c0-.432-.113-.767-.337-1.004-.223-.24-.532-.359-.927-.359-.275 0-.521.058-.739.174a1.27 1.27 0 00-.511.508 1.652 1.652 0 00-.185.81zm7.357 3.395c-.525 0-.979-.116-1.36-.348a2.335 2.335 0 01-.877-.98c-.204-.422-.306-.912-.306-1.47 0-.56.102-1.052.306-1.478a2.41 2.41 0 01.859-1.001c.37-.242.8-.363 1.293-.363.284 0 .564.048.841.143.277.094.53.248.757.461.227.21.408.49.543.838.135.348.203.777.203 1.286v.355h-4.205v-.725h3.352a1.79 1.79 0 00-.184-.824 1.394 1.394 0 00-.519-.571 1.45 1.45 0 00-.788-.21c-.334 0-.623.083-.867.249a1.635 1.635 0 00-.557.64 1.88 1.88 0 00-.195.844v.483c0 .412.071.761.213 1.048.144.284.344.5.6.65.255.146.553.22.891.22.22 0 .419-.031.597-.093.18-.064.335-.158.465-.284.13-.127.231-.286.302-.475l.809.227a1.794 1.794 0 01-.429.724c-.202.206-.45.367-.746.483-.296.114-.629.17-.998.17z"
                  fill="currentColor"
                  stroke="#000"
                />
              </svg>
            </Card>
          </div>
        )}
      />
    )
  );
}
